<!-- Navbar -->
<div class="py-3 px-6 bg-[#f8f4f3] flex items-center shadow-md shadow-black/5 sticky top-0 left-0 z-30">
    <!-- Sidebar Toggle Button -->
    <button type="button" class="text-xl text-gray-900 font-semibold sidebar-toggle">
        <i class="ri-menu-line"></i>
    </button>
    
    <!-- Navbar Items -->
    <ul class="ml-auto flex items-center space-x-4">
        <!-- Search Dropdown -->
        <li class="relative dropdown">
            <button type="button" class="dropdown-toggle text-gray-500 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-200">
                <i class="ri-search-line text-lg"></i>
            </button>
            <div class="dropdown-menu absolute right-0 mt-2 w-64 bg-white shadow-lg rounded-lg border border-gray-100 hidden">
                <form class="p-3">
                    <div class="relative">
                        <input type="text" class="w-full py-2 pl-10 pr-3 bg-gray-50 border rounded-md focus:ring-2 focus:ring-blue-500" placeholder="Search...">
                        <i class="ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"></i>
                    </div>
                </form>
            </div>
        </li>
        
        <!-- Notifications Dropdown -->
        <li class="relative dropdown">
            <button type="button" class="dropdown-toggle text-gray-500 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-200">
                <i class="ri-notification-3-line text-lg"></i>
            </button>
            <div class="dropdown-menu absolute right-0 mt-2 w-72 bg-white shadow-lg rounded-lg border border-gray-100 hidden">
                <div class="p-3 border-b font-medium">Notifications</div>
                <ul class="max-h-60 overflow-y-auto">
                    <li class="p-3 hover:bg-gray-100 flex items-center">
                        <img src="https://placehold.co/32x32" class="w-8 h-8 rounded-full">
                        <div class="ml-3">
                            <p class="text-sm font-semibold text-gray-700">New Order</p>
                            <p class="text-xs text-gray-500">From a user</p>
                        </div>
                    </li>
                </ul>
            </div>
        </li>
        
        <!-- Fullscreen Toggle -->
        <button id="fullscreen-button" class="text-gray-500 w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-200">
            <i class="ri-fullscreen-line text-lg"></i>
        </button>
        
        <!-- Profile Dropdown -->
        <li class="relative dropdown">
            <h1 class='text-xl'>Welcome <%= Current.user.name %></h1>
        </li>
    </ul>
</div>
<!-- End Navbar -->

<script>
    // Fullscreen Toggle
    document.getElementById('fullscreen-button').addEventListener('click', function() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
        } else {
            document.exitFullscreen();
        }
    });

    // Dropdown Toggle
    document.querySelectorAll('.dropdown-toggle').forEach(button => {
        button.addEventListener('click', function() {
            this.nextElementSibling.classList.toggle('hidden');
        });
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        document.querySelectorAll('.dropdown-menu').forEach(menu => {
            if (!menu.contains(event.target) && !menu.previousElementSibling.contains(event.target)) {
                menu.classList.add('hidden');
            }
        });
    });
</script>
