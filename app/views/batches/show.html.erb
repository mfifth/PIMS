<div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md">
  <!-- Batch Details -->
  <h1 class="text-3xl font-semibold text-gray-800 mb-4">Batch <%= @batch.batch_number %></h1>

  <div class="text-gray-700 space-y-2">
    <p><strong>Manufactured Date:</strong> <%= @batch.manufactured_date %></p>
    <p><strong>Expiration Date:</strong> <%= @batch.expiration_date %></p>
    <p><strong>Supplier:</strong> <%= @batch.supplier.name if @batch.supplier %></p>
  </div>

  <!-- Products in Batch -->
  <h2 class="text-xl font-semibold text-gray-800 mt-6">Products in This Batch</h2>
  <ul class="mt-2 border rounded-lg p-4 bg-gray-50">
    <% @batch.products.where(account_id: Current.account.id).each do |product| %>
      <li class="border-b py-2">
        <span class="font-medium"><%= product.name %></span>
        <% if product.perishable? %>
          <div class="text-sm text-gray-600">
            Locations: 
            <%= product.inventory_items.joins(:location).distinct.pluck("locations.name").join(', ') %>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>

  <!-- Action Buttons -->
  <div class="mt-6 flex space-x-4">
    <%= link_to 'Edit', edit_batch_path(@batch), class: "bg-orange bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition" %>
    <%= link_to 'Back to Batches', batches_path, class: "bg-gray bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition" %>
  </div>
</div>
