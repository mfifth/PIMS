<div class="ingredient-item mb-4 flex items-center gap-4 bg-white p-3 rounded-lg shadow-sm border" data-new-record="<%= f.object.new_record? %>">
  <div class="product-name w-1/2 px-3 py-2 font-medium" data-recipe-items-target="productName">
    <%= f.object.product&.name || "Product not selected" %>
  </div>
  
  <%= f.number_field :quantity,
    step: (['units', 'fluid_oz'].include?(f.object.unit) ? 1 : 0.1),
    min: 1,
    class: "w-1/4 border rounded px-3 py-2 focus:ring-blue-500 focus:border-blue-500",
    data: { unit_type: f.object.unit } %>

  <%= f.select :unit,
    f.object.compatible_unit_options,
    {},
    class: "w-1/4 border rounded px-3 py-2 focus:ring-blue-500 focus:border-blue-500",
    data: { recipe_items_target: "unitInput" } %>

  <%= f.hidden_field :product_id %>
  <%= f.hidden_field :_destroy %>

  <%= link_to "Remove", "#", class: "text-red-600 hover:text-red-800 text-sm", data: { action: "click->recipe-items#remove" } %>
</div>
