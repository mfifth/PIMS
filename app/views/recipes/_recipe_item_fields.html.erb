<div class="ingredient-item grid grid-cols-1 sm:grid-cols-4 gap-4 items-center mb-4 bg-white p-3 rounded-lg shadow-sm border" data-new-record="<%= f.object.new_record? %>">
  <div class="col-span-1 sm:col-span-2 font-medium px-2" data-recipe-items-target="productName">
    <%= f.object.product&.name || "Product not selected" %>
  </div>

  <%= f.number_field :quantity,
    step: (['units', 'fluid_oz'].include?(f.object.unit) ? 1 : 0.1),
    min: 1,
    class: "border rounded px-3 py-2 focus:ring-blue-500 focus:border-blue-500",
    style: "width: 40vh;",
    data: { unit_type: f.object.unit } %>

  <%= f.select :unit,
    f.object.compatible_unit_options,
    {},
    class: "border rounded px-3 py-2 focus:ring-blue-500 focus:border-blue-500",
    style: "width: 40vh;",
    data: { recipe_items_target: "unitInput" } %>

  <%= f.hidden_field :product_id %>
  <%= f.hidden_field :_destroy %>

  <div class="sm:col-span-4 text-right">
    <%= link_to "Remove", "#", class: "text-red-600 hover:text-red-800 text-sm", data: { action: "click->recipe-items#remove" } %>
  </div>
</div>
