<turbo-frame id='main'>
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold"><%= t("recipes.index.title") %></h1>
    <%= link_to t("recipes.index.new_recipe"), new_recipe_path, class: "bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md" %>
  </div>

  <%= form_with url: recipes_path, method: :get, local: true, class: "mb-6" do |f| %>
    <div class="relative">
      <%= f.text_field :search, 
            placeholder: t("recipes.index.search_placeholder"),
            value: params[:search], autocomplete: "off",
            class: "w-full rounded-lg border-gray-300 pl-10 pr-4 py-2 border focus:ring-blue-500 focus:border-blue-500" %>
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <svg class="h-5 w-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
        </svg>
      </div>
    </div>
  <% end %>

  <% if recipes.blank? %>
    <div class="bg-white rounded-lg shadow p-6 text-center">
      <% if params[:search].present? %>
        <p class="text-gray-500 mb-4"><%= t("recipes.index.no_match", query: params[:search]) %></p>
      <% else %>
        <p class="text-gray-500 mb-4"><%= t("recipes.index.no_recipes") %></p>
      <% end %>
      <%= link_to t("recipes.index.create_first"), new_recipe_path, class: "bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md inline-block" %>
    </div>
  <% else %>
    <div class="space-y-6 recipe-card">
      <% recipes.each do |recipe| %>
        <%= render partial: "recipe_card", locals: { recipe: recipe } %>
      <% end %>
    </div>
  <% end %>
</turbo-frame>